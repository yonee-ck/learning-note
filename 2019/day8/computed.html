<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>computed | front-end</title>
    <meta name="description" content="그날 배운 것들을 정리한다.">
    
    
    <link rel="preload" href="/learning-note/assets/css/0.styles.4fc89262.css" as="style"><link rel="preload" href="/learning-note/assets/js/app.a30b82be.js" as="script"><link rel="preload" href="/learning-note/assets/js/2.ad8f9aa1.js" as="script"><link rel="preload" href="/learning-note/assets/js/20.b3d5292a.js" as="script"><link rel="prefetch" href="/learning-note/assets/js/10.0c46efa3.js"><link rel="prefetch" href="/learning-note/assets/js/11.b49efe7c.js"><link rel="prefetch" href="/learning-note/assets/js/12.799c036a.js"><link rel="prefetch" href="/learning-note/assets/js/13.9aaa7298.js"><link rel="prefetch" href="/learning-note/assets/js/14.5db1d691.js"><link rel="prefetch" href="/learning-note/assets/js/15.7c5cc28c.js"><link rel="prefetch" href="/learning-note/assets/js/16.d9c6ba47.js"><link rel="prefetch" href="/learning-note/assets/js/17.c58c5678.js"><link rel="prefetch" href="/learning-note/assets/js/18.5f19b88c.js"><link rel="prefetch" href="/learning-note/assets/js/19.7ff55288.js"><link rel="prefetch" href="/learning-note/assets/js/21.a5dd89f6.js"><link rel="prefetch" href="/learning-note/assets/js/22.ff22e69e.js"><link rel="prefetch" href="/learning-note/assets/js/23.6a390572.js"><link rel="prefetch" href="/learning-note/assets/js/24.a2645445.js"><link rel="prefetch" href="/learning-note/assets/js/25.0c8de8a0.js"><link rel="prefetch" href="/learning-note/assets/js/26.89f73050.js"><link rel="prefetch" href="/learning-note/assets/js/27.440dfb51.js"><link rel="prefetch" href="/learning-note/assets/js/28.d784d8d3.js"><link rel="prefetch" href="/learning-note/assets/js/29.6e3a4c36.js"><link rel="prefetch" href="/learning-note/assets/js/3.4c347159.js"><link rel="prefetch" href="/learning-note/assets/js/30.231d20d5.js"><link rel="prefetch" href="/learning-note/assets/js/31.20b2f559.js"><link rel="prefetch" href="/learning-note/assets/js/32.5ed714d6.js"><link rel="prefetch" href="/learning-note/assets/js/4.a56dcb29.js"><link rel="prefetch" href="/learning-note/assets/js/5.55fd893b.js"><link rel="prefetch" href="/learning-note/assets/js/6.4acf40c0.js"><link rel="prefetch" href="/learning-note/assets/js/7.bc5f2603.js"><link rel="prefetch" href="/learning-note/assets/js/8.d1318c50.js"><link rel="prefetch" href="/learning-note/assets/js/9.8a7c7c65.js">
    <link rel="stylesheet" href="/learning-note/assets/css/0.styles.4fc89262.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/learning-note/" class="home-link router-link-active"><!----> <span class="site-name">front-end</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>2021</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/learning-note/2021/promise.html" class="sidebar-link">Promise</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/learning-note/2021/document.html" class="sidebar-link">Document</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/learning-note/2021/event.html" class="sidebar-link">Browser Event</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/learning-note/2021/event2.html" class="sidebar-link">Event의 종류</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/learning-note/2021/loop.html" class="sidebar-link">반복문</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/learning-note/2021/condition.html" class="sidebar-link">조건문</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/learning-note/2021/exception.html" class="sidebar-link">Exception Handling</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/learning-note/2021/ignore.html" class="sidebar-link">Git ignore</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/learning-note/2021/mvc.html" class="sidebar-link">MVC / MVVM 아키텍쳐</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>2019</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="computed"><a href="#computed" aria-hidden="true" class="header-anchor">#</a> computed</h1> <ul><li>컴퓨티드(computed) 속성: 템플릿의 데이터 표현을 더 직관적이고 간결하게 도와주는 속성</li></ul> <h3 id="computed-속성-예시"><a href="#computed-속성-예시" aria-hidden="true" class="header-anchor">#</a> computed 속성 예시</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token punctuation">{</span>
    message
      <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>message라는 데이터 속성의 문자열 순서를 역으로 변환해주는 코드
(message 값이 Hello라면 화면에 출력되는 값은 olleH)</p> <ul><li>이처럼 콧수염 괄호 안에는 단순히 데이터 속성의 값만 표시하는게 아니라 자바스크립트의 내장 API를 활용하여 어느 정도 가공할 수 있다.
<br>
그러나 이와 같은 계산식이 템플릿에 많아지면 템플릿의 가독성이 현저히 떨어지게된다. 따라서 아래와 같이 computed 속성을 활용하는 것이 좋다.</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token function">reverseMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>message<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>문자열을 역으로 변환하는 로직을 컴퓨티드 속성에 정의했기 때문에 최종적으로 화면에는 아래와 같이 구현하면 된다.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token punctuation">{</span>
    reverseMessage<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="computed-속성의-장점"><a href="#computed-속성의-장점" aria-hidden="true" class="header-anchor">#</a> computed 속성의 장점</h3> <ul><li>컴퓨티드 속성은 단순히 뷰 템플릿 코드의 가독성만 높여줄 뿐만 아니라 컴퓨티드 속성의 대상으로 정한 data 속성이 변했을 때 이를 감지하고 자동으로 다시 연산해주는 장점이 있다.</li> <li>만일 message 값을 Hello Vue.js로 바꾼다면, 그 순간 컴퓨티드 속성이 다시 연산을 해서 화면에 sj.euV olleH를 표시해준다.</li></ul> <h3 id="computed-속성-주의사항"><a href="#computed-속성-주의사항" aria-hidden="true" class="header-anchor">#</a> computed 속성 주의사항</h3> <ul><li>컴퓨티드 속성은 인자를 받지 않는다. HTTP 통신과 같이 컴퓨팅 리소스가 많이 필요한 로직을 정의하지 않는다.</li></ul> <h3 id="_1-인자를-받지-않는-computed"><a href="#_1-인자를-받지-않는-computed" aria-hidden="true" class="header-anchor">#</a> 1. 인자를 받지 않는 computed</h3> <p>컴퓨티드의 사용법을 익히고 나서 화면을 구현하다가 보면 자연스럽게 아래와 같은 시도를 하게 된다.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token function">reverseMessage</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token function">reverseMessage</span><span class="token punctuation">(</span><span class="token parameter">isReversed</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> isReversed <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>message<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>message<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>위의 코드는 정상적으로 동작하지 않는다. 템플릿에 선언한 컴퓨티드 속성에 &quot;괄호가 생기는 순간&quot; 해당 템플릿을 실제 DOM으로 변환할 때 라이브러리에서 에러를 발생시킨다.</p> <h3 id="_2-http-통신-코드를-제외하는-computed"><a href="#_2-http-통신-코드를-제외하는-computed" aria-hidden="true" class="header-anchor">#</a> 2. HTTP 통신 코드를 제외하는 computed</h3> <p>흔히 저지르는 또 다른 실수는 다음과 같다.</p> <div class="language-js extra-class"><pre class="language-js"><code>data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  message<span class="token punctuation">:</span> <span class="token string">''</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token function">reverseMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/message'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      vm<span class="token punctuation">.</span>message <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>message<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>컴퓨티드 속성에 HTTP 요청과 같은 비싼 비용의 코드를 넣는 경우가 있다. 기본적으로 컴퓨티드 속성은 템플릿 코드의 가독성을 위한 기능이며 HTTP 통신과 같이 브라우저 리소스가 많이 할애되는 코드들은 watch나 methods에 넣는 것이 적합하다.</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/learning-note/2019/day7/vue_vs_react.html" class="prev">
          Vue vs React
        </a></span> <span class="next"><a href="/learning-note/2019/day8/vuex.html">
          vuex
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/learning-note/assets/js/app.a30b82be.js" defer></script><script src="/learning-note/assets/js/2.ad8f9aa1.js" defer></script><script src="/learning-note/assets/js/20.b3d5292a.js" defer></script>
  </body>
</html>
